name: ghcr.io/lesomnus/dev-golang
  
images:
  - from: registry.hub.docker.com/library/golang:{ remoteTags | toSemver | semverN 1 2 1 }
    tags:
      - '{{ printf "%d.%d" .Major .Minor }}'
      - '{{ printf "%d"    .Major        }}'

  - from: registry.hub.docker.com/library/golang:{ remoteTags | regex .+alpine$ | toSemver | semverN 1 2 1 }
    tags:
      - '{{ printf "%d.%d-%s" .Major .Minor (index .Pre 0) }}'
      - '{{ printf "%d-%s"    .Major        (index .Pre 0) }}'
